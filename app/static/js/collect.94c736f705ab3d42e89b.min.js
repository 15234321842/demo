webpackJsonp([41,44],{192:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(6),n=i(o),l=a(5),s=i(l),c=a(4),r=a(7),d=i(r),m=a(13);e.default={components:{headTop:d.default},data:function(){return{page:1,type:0,isnext:!0,list:[],imgBaseUrl:m.imgBaseUrl}},beforeMount:function(){this.getList()},methods:{onItemClick:function(t){return this.type!=t&&(this.type=t,this.page=1,this.list=[],this.isnext=!0,void this.getList())},handleScroll:function(){var t=this.$el.children[2];t.scrollTop+t.offsetHeight>=t.scrollHeight&&(this.page++,this.isnext&&this.getList())},goto:function(t){this.$router.push(t)},delFav:function(t){var e=this;return(0,s.default)(n.default.mark(function a(){var i;return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.$vux.loading.show({text:"提交中......"}),a.next=3,(0,c.cancelFavorites)(t,"goods");case 3:i=a.sent,e.$vux.loading.hide(),e.page=1,e.list=[],e.isnext=!0,e.getList();case 9:case"end":return a.stop()}},a,e)}))()},getList:function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a,i,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$vux.loading.show({text:"正在获取中..."}),e.next=3,(0,c.myCollection)(t.page,t.type);case 3:if(a=e.sent,t.$vux.loading.hide(),1==a.code){t.isnext=a.data.page_count>t.page,i=t;for(o in a.data.data)i.list.push(a.data.data[o])}else t.$vux.toast.text(a.msg,"middle");case 6:case"end":return e.stop()}},e,t)}))()}}}},332:function(t,e,a){e=t.exports=a(2)(),e.push([t.id,"#collect .p-a-all[data-v-798a68aa]{top:1.7rem;background:#eee}#collect .p-a-all .item[data-v-798a68aa]{padding:.3rem;margin-bottom:2px;font-size:.3rem;background:#fafafa}#collect .p-a-all .item .title[data-v-798a68aa]{font-size:.26rem;color:#666;padding:.1rem 0}#collect .p-a-all .item img[data-v-798a68aa]{width:1rem;height:1rem;display:inline-block;background:#eee}#collect .p-a-all .item .box[data-v-798a68aa]{display:inline-block;width:calc(100% - 1.1rem);height:1rem;padding:0 .1rem}#collect .p-a-all button[data-v-798a68aa]{height:.8rem;font-size:.3rem;color:#666;margin-top:1rem}","",{version:3,sources:["/./src/page/user/collect.vue"],names:[],mappings:"AACA,mCAAmC,WAAW,eAAe,CAC5D,AACD,yCAAyC,cAAe,kBAAkB,gBAAiB,kBAAkB,CAC5G,AACD,gDAAgD,iBAAkB,WAAW,eAAgB,CAC5F,AACD,6CAA6C,WAAW,YAAY,qBAAqB,eAAe,CACvG,AACD,8CAA8C,qBAAqB,AAAkC,0BAA0B,YAAY,eAAgB,CAC1J,AACD,0CAA0C,aAAc,gBAAiB,WAAW,eAAe,CAClG",file:"collect.vue",sourcesContent:["\n#collect .p-a-all[data-v-798a68aa]{top:1.7rem;background:#eee\n}\n#collect .p-a-all .item[data-v-798a68aa]{padding:0.3rem;margin-bottom:2px;font-size:0.3rem;background:#fafafa\n}\n#collect .p-a-all .item .title[data-v-798a68aa]{font-size:0.26rem;color:#666;padding:0.1rem 0\n}\n#collect .p-a-all .item img[data-v-798a68aa]{width:1rem;height:1rem;display:inline-block;background:#eee\n}\n#collect .p-a-all .item .box[data-v-798a68aa]{display:inline-block;width:-webkit-calc(100% - 1.1rem);width:calc(100% - 1.1rem);height:1rem;padding:0 0.1rem\n}\n#collect .p-a-all button[data-v-798a68aa]{height:0.8rem;font-size:0.3rem;color:#666;margin-top:1rem\n}\n"],sourceRoot:"webpack://"}])},432:function(t,e,a){var i=a(332);"string"==typeof i&&(i=[[t.id,i,""]]);a(3)(i,{});i.locals&&(t.exports=i.locals)},569:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"collect"}},[a("head-top",{attrs:{"go-back":!0,"head-title":"我的收藏",rightMenu:!0}}),t._v(" "),a("tab",[a("tab-item",{attrs:{selected:""},on:{"on-item-click":t.onItemClick}},[t._v("全部")]),t._v(" "),a("tab-item",{on:{"on-item-click":t.onItemClick}},[t._v("本周")]),t._v(" "),a("tab-item",{on:{"on-item-click":t.onItemClick}},[t._v("本月")]),t._v(" "),a("tab-item",{on:{"on-item-click":t.onItemClick}},[t._v("本年")])],1),t._v(" "),a("div",{staticClass:"p-a-all",on:{scroll:t.handleScroll}},t._l(t.list,function(e,i){return a("div",{key:i,staticClass:"item"},[a("p",{staticClass:"title",on:{click:function(a){t.goto("/goods?id="+e.goods_id)}}},[t._v(t._s(e.fav_time))]),t._v(" "),a("div",{staticClass:"rows"},[a("img",{attrs:{src:t.imgBaseUrl+e.goods_image,alt:""},on:{click:function(a){t.goto("/goods?id="+e.goods_id)}}}),t._v(" "),a("div",{staticClass:"box"},[a("p",{staticClass:"title",on:{click:function(a){t.goto("/goods?id="+e.goods_id)}}},[t._v(t._s(e.log_msg))]),t._v(" "),a("div",{staticClass:"flex-box"},[a("span",{staticClass:"price font-size-13"},[t._v("￥"+t._s(e.promotion_price))]),t._v(" "),a("span",{on:{click:function(a){t.delFav(e.goods_id)}}},[t._v("取消收藏")])])])])])}))],1)},staticRenderFns:[]}},662:function(t,e,a){a(432);var i=a(1)(a(192),a(569),"data-v-798a68aa",null);t.exports=i.exports}});