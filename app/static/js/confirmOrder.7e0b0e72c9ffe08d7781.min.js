webpackJsonp([3,44],{29:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{pwd:["","","","","",""],input:[1,2,3,4,5,6,7,8,9,"C",0,'<i class="iconfont icon-shanchu1"></i>'],reg:/^\d+$/}},mounted:function(){console.log("pwd")},watch:{pwd:{handler:function(e){var t=!0,a="";for(var n in e)if(a+=e[n],!e[n])return t=!1,!1;t&&this.$emit("input-ok",a)},deep:!0}},methods:{clear:function(){this.pwd=["","","","","",""]},play:function(e){var t=this;if(this.reg.test(e)){for(var a in t.pwd)if(!t.pwd[a])return t.$set(t.pwd,a,""+e),!1;return!1}if("C"==e)this.pwd=["","","","","",""];else for(var n=t.pwd.length-1;n>=0;n--)if(t.pwd[n])return t.$set(t.pwd,n,""),!1}}}},34:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,"#pwd-box[data-v-34b25a77]{height:5.75rem;background:#eee}#pwd-box .top[data-v-34b25a77]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:.5rem 0}#pwd-box .top span[data-v-34b25a77]{background:#fff;display:inline-block;width:.75rem;height:.75rem;border-top:1px solid #aaa;border-bottom:1px solid #aaa;border-left:1px solid #aaa;text-align:center;line-height:.75rem;font-size:.5rem}#pwd-box .top span[data-v-34b25a77]:last-child{border-right:1px solid #aaa}#pwd-box .input-box[data-v-34b25a77]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;-ms-flex-wrap:wrap;flex-wrap:wrap}#pwd-box .input-box span[data-v-34b25a77]{border-right:1px solid #aaa;border-top:1px solid #aaa;font-size:.4rem;text-align:center;width:33.3333%;height:1rem;line-height:1rem;background:#fff;display:inline-block}#pwd-box .input-box span[data-v-34b25a77]:nth-child(3n+0){border-right:0}#pwd-box .input-box .gray[data-v-34b25a77]{background:#eee}","",{version:3,sources:["/./src/components/common/pwd.vue"],names:[],mappings:"AACA,0BAA0B,eAAe,eAAe,CACvD,AACD,+BAAwE,oBAAoB,aAAa,AAAoD,sBAAsB,mBAAmB,AAAuD,qBAAqB,uBAAuB,eAAgB,CACxT,AACD,oCAAoC,gBAAgB,qBAAqB,aAAc,cAAe,0BAA0B,6BAA6B,2BAA2B,kBAAkB,mBAAoB,eAAgB,CAC7O,AACD,+CAA+C,2BAA2B,CACzE,AACD,qCAA8E,oBAAoB,aAAa,AAAoD,sBAAsB,mBAAmB,AAAuD,qBAAqB,uBAAuB,AAAuB,mBAAmB,cAAc,CACtW,AACD,0CAA0C,4BAA4B,0BAA0B,gBAAiB,kBAAkB,eAAe,YAAY,iBAAiB,gBAAgB,oBAAoB,CAClN,AACD,0DAA0D,cAAc,CACvE,AACD,2CAA2C,eAAe,CACzD",file:"pwd.vue",sourcesContent:["\n#pwd-box[data-v-34b25a77]{height:5.75rem;background:#eee\n}\n#pwd-box .top[data-v-34b25a77]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:0.5rem 0\n}\n#pwd-box .top span[data-v-34b25a77]{background:#fff;display:inline-block;width:0.75rem;height:0.75rem;border-top:1px solid #aaa;border-bottom:1px solid #aaa;border-left:1px solid #aaa;text-align:center;line-height:0.75rem;font-size:0.5rem\n}\n#pwd-box .top span[data-v-34b25a77]:last-child{border-right:1px solid #aaa\n}\n#pwd-box .input-box[data-v-34b25a77]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap\n}\n#pwd-box .input-box span[data-v-34b25a77]{border-right:1px solid #aaa;border-top:1px solid #aaa;font-size:0.4rem;text-align:center;width:33.3333%;height:1rem;line-height:1rem;background:#fff;display:inline-block\n}\n#pwd-box .input-box span[data-v-34b25a77]:nth-child(3n+0){border-right:0\n}\n#pwd-box .input-box .gray[data-v-34b25a77]{background:#eee\n}\n"],sourceRoot:"webpack://"}])},35:function(e,t,a){var n=a(34);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},38:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pwd-box"}},[a("div",{staticClass:"top"},e._l(e.pwd,function(t,n){return a("span",{key:n},[e._v(e._s(t?"*":""))])})),e._v(" "),a("div",{staticClass:"input-box"},e._l(e.input,function(t,n){return a("span",{key:n,class:{gray:!e.reg.test(t)},domProps:{innerHTML:e._s(t)},on:{click:function(a){e.play(t)}}})}))])},staticRenderFns:[]}},40:function(e,t,a){a(35);var n=a(1)(a(29),a(38),"data-v-34b25a77",null);e.exports=n.exports},53:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(4);t.default={props:["list"],data:function(){return{}},mounted:function(){},methods:{check:function(e){this.$emit("coupon_check",this.list[e])}}}},73:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,'.list .box[data-v-550a1d87],.list[data-v-550a1d87]{position:relative;padding:.3rem}.list .box[data-v-550a1d87]{margin-bottom:.2rem;background:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.list .box .left[data-v-550a1d87]{width:1.5rem;color:#f44;font-size:.6rem;border-right:1px dashed #666}.list .box .left span[data-v-550a1d87]{color:#f44}.list .box .left p[data-v-550a1d87]{font-size:.22rem;color:#999}.list .box .center[data-v-550a1d87]{padding-left:.2rem;width:calc(100% - 1.7rem)}.list .box[data-v-550a1d87]:after{content:"";position:absolute;top:0;bottom:0;right:0;width:100%;height:.2rem;display:block;z-index:9;background-image:linear-gradient(-45deg,#f44 25%,transparent 0,transparent),linear-gradient(-135deg,#f44 25%,transparent 0,transparent),linear-gradient(-45deg,transparent 75%,#f44 0),linear-gradient(-135deg,transparent 75%,#f44 0);background-size:.15rem .4rem;background-repeat:repeat-x,repeat-x}',"",{version:3,sources:["/./src/components/coupon/index.vue"],names:[],mappings:"AAGA,mDAFuB,kBAAkB,aAAc,CAGtD,AADD,4BAA4B,oBAAqB,gBAAgB,AAA0E,oBAAoB,aAAa,AAAoD,sBAAsB,kBAAkB,CACvQ,AACD,kCAAkC,aAAa,WAAc,gBAAiB,4BAA4B,CACzG,AACD,uCAAuC,UAAa,CACnD,AACD,oCAAoC,iBAAkB,UAAU,CAC/D,AACD,oCAAoC,mBAAoB,AAAkC,yBAAyB,CAClH,AACD,kCAAmC,WAAW,kBAAkB,MAAM,SAAS,QAAQ,WAAW,aAAc,cAAc,UAAU,uOAAyP,6BAA+B,mCAAoC,CACnc",file:"index.vue",sourcesContent:['\n.list[data-v-550a1d87]{position:relative;padding:0.3rem\n}\n.list .box[data-v-550a1d87]{margin-bottom:0.2rem;background:#fff;padding:0.3rem;position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n.list .box .left[data-v-550a1d87]{width:1.5rem;color:#ff4444;font-size:0.6rem;border-right:1px dashed #666\n}\n.list .box .left span[data-v-550a1d87]{color:#ff4444\n}\n.list .box .left p[data-v-550a1d87]{font-size:0.22rem;color:#999\n}\n.list .box .center[data-v-550a1d87]{padding-left:0.2rem;width:-webkit-calc(100% - 1.7rem);width:calc(100% - 1.7rem)\n}\n.list .box[data-v-550a1d87]::after{content:"";position:absolute;top:0;bottom:0;right:0;width:100%;height:0.2rem;display:block;z-index:9;background-image:linear-gradient(-45deg, #f44 25%, transparent 25%, transparent),linear-gradient(-135deg, #f44 25%, transparent 25%, transparent),linear-gradient(-45deg, transparent 75%, #f44 75%),linear-gradient(-135deg, transparent 75%, #f44 75%);background-size:0.15rem 0.4rem;background-repeat:repeat-x, repeat-x\n}\n'],sourceRoot:"webpack://"}])},76:function(e,t,a){var n=a(73);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},80:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.list.length>0?a("div",{staticClass:"list"},e._l(e.list,function(t,n){return a("div",{key:n,staticClass:"box",on:{click:function(t){e.check(n)}}},[a("div",{staticClass:"left"},[a("span",[e._v("￥")]),e._v(e._s(t.money)+"\n            "),a("p",[e._v("满"+e._s(t.at_least)+"元可用")])]),e._v(" "),a("div",{staticClass:"center"},[a("p",{staticClass:"font-size-15 text-color-333"},[e._v(e._s(t.coupon_name))]),e._v(" "),a("p",{staticClass:"font-size-12 text-color-999"},[e._v(e._s(t.start_time)+"-"+e._s(t.end_time))]),e._v(" "),a("p",{staticClass:"font-size-12 text-color-999"},[e._v(e._s(t.range_type))])])])})):a("div",[a("p",{staticStyle:{"text-align":"center","margin-top":"3rem"}},[e._v("没有优惠券")])])},staticRenderFns:[]}},83:function(e,t,a){a(76);var n=a(1)(a(53),a(80),"data-v-550a1d87",null);e.exports=n.exports},183:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(6),i=n(o),s=a(5),r=n(s),c=a(15),d=n(c),l=a(40),p=n(l),u=a(7),A=n(u),f=a(4),b=a(83),m=n(b),_=a(42),x=n(_);t.default={directives:{TransferDom:x.default},components:{headTop:A.default,pwdBox:p.default,list:m.default},data:function(){return{check_coupon:{},coupon_show:!1,pwd_show:!1,balance_use:0,point_use:0,info:{},express:{},express_info:{},express_show:!1,point_use_max:0,balance_use_max:0,remark:""}},computed:{total_balance:function(){if((0,d.default)(this.info).length>0){var e=(parseFloat(this.express_info.fee?this.express_info.fee:0)+parseFloat(this.info.count_money)).toFixed(2);console.log(this.express_info.fee,parseFloat(this.info.count_money));var t=0;return this.check_coupon.money&&(t=parseFloat(this.check_coupon.money)),this.setBalanceUseMax(t),this.setPointUseMax(t),(parseFloat(e)-t-parseFloat(this.balance_use)-parseFloat(this.point_use)).toFixed(2)}return 0}},watch:{check_coupon:function(e){var t=(parseFloat(this.express_info.fee?this.express_info.fee:0)+parseFloat(this.info.count_money)).toFixed(2);if(this.balance_use+this.point_use+e.money>t){var a=e.money;this.balance_use>=a?this.balance_use=this.balance_use-a:this.point_use>=a&&(this.point_use=this.point_use-a)}},balance_use:function(e){e||(this.balance_use=0)},point_use:function(e){if(!e)return this.point_use=0,0;var t=/^\d+$/;if(!t.test(e))return this.point_use=Math.abs(parseInt(e)),!1;if(this.point_use=parseInt(this.point_use),(0,d.default)(this.info).length>0){var a=this.point_use_max;this.point_use>a&&(this.point_use=a)}}},beforeMount:function(){this.getInfo()},methods:{goto:function(e){this.$router.push(e)},coupon_check:function(e){this.check_coupon=e,this.coupon_show=!1},check_order:function(){if(!this.info.address_default)return this.$vux.toast.text("未选择收货地址!","middle"),!1;var e=this;if(this.balance_use||this.point_use||this.check_coupon.coupon_id){if(!this.info.is_paypassword)return this.$vux.confirm.show({title:"支付密码未设置",content:"是否前往设置支付密码?",onConfirm:function(){e.$router.push("/userinfo")}}),!1;this.pwd_show=!0}else this.createOrder("")},createOrder:function(e){var t=this;return(0,r.default)(i.default.mark(function a(){var n,o,s,r;return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n="",o=t;for(s in t.info.itemlist)n=n+t.info.itemlist[s].sku_id+":"+t.info.itemlist[s].num+",";return n=n.substring(0,n.length-1),o.$vux.loading.show({text:"正在创建..."}),a.next=7,(0,f.orderCreate)(n,t.info.address_default.id,t.remark,t.point_use,t.balance_use,t.check_coupon.coupon_id?t.check_coupon.coupon_id:"",t.express_info.id,e?e:"");case 7:r=a.sent,o.$vux.loading.hide(),1==r.code?t.total_balance>0?t.$router.push("pay?id="+r.data):t.$router.push("/order"):t.$vux.toast.text(r.msg,"middle");case 10:case"end":return a.stop()}},a,t)}))()},setBalanceUseMax:function(e){var t=(parseFloat(this.express_info.fee?this.express_info.fee:0)+parseFloat(this.info.count_money)).toFixed(2),a=parseFloat(this.info.member_account.balance);a=a>parseInt(t)?parseInt(t):a,this.point_use_max&&(a-=parseInt(this.point_use),a=a>0?a:0),this.balance_use_max=a-e},setPointUseMax:function(e){var t=(parseFloat(this.express_info.fee?this.express_info.fee:0)+parseFloat(this.info.count_money)).toFixed(2),a=this.info.count_point_use>this.info.member_account.point?this.info.member_account.point:this.info.count_point_use;a=a>parseInt(t)?parseInt(t):a,this.balance_use&&(a-=Math.ceil(this.balance_use),a=a>0?a:0),this.point_use_max=a-e},setBalance:function(e){var t=/^[0-9]*$/;if(!t.test(e.data)&&"."!=e.data)return this.balance_use=0,!1;var a=this.balance_use,n=a.split(".");if(n.length>2)this.balance_use=parseInt(n[0])+"."+(n[1]?n[1]:0);else if(2==n.length&&n[1]){var o=n[1]?n[1]:0;o=o.substring(0,2),this.balance_use=parseInt(n[0])+"."+o}else 1==n.length&&(this.balance_use=parseFloat(this.balance_use));parseFloat(this.balance_use)>this.balance_use_max&&(this.balance_use=this.balance_use_max)},check_express:function(e){var t=this,a=this.info.express_company_list;for(var n in a)if(a[n].co_id==e)return t.express_info={id:a[n].co_id,name:a[n].company_name,fee:a[n].express_fee},!1},getInfo:function(){var e=this;return(0,r.default)(i.default.mark(function t(){var a,n,o,s,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$vux.loading.show({text:"正在生成订单信息..."}),"cart"!=e.$route.query.type){t.next=7;break}return t.next=4,(0,f.cartpaymentOrder)("cart",e.$route.query.ids);case 4:a=t.sent,t.next=10;break;case 7:return t.next=9,(0,f.paymentOrder)(e.$route.query.sku_id,e.$route.query.num?e.$route.query.num:1);case 9:a=t.sent;case 10:if(e.$vux.loading.hide(),n=e,1!=a.code){t.next=23;break}if(e.info=a.data,e.info.address_default){t.next=17;break}return e.$vux.confirm.show({title:"地址未设置",content:"是否前往设置?",onConfirm:function(){n.$router.push("/address_add")}}),t.abrupt("return",!1);case 17:o=parseFloat(e.info.count_money).toFixed(2),s=e.info.count_point_use>e.info.member_account.point?e.info.member_account.point:e.info.count_point_use,e.point_use=s;for(r in a.data.express_company_list)n.express[a.data.express_company_list[r].co_id]=a.data.express_company_list[r].company_name,a.data.express_company_list[r].is_default&&(n.express_info={id:a.data.express_company_list[r].co_id,name:a.data.express_company_list[r].company_name,fee:a.data.express_company_list[r].express_fee});t.next=24;break;case 23:e.$vux.toast.text(a.msg,"middle");case 24:case"end":return t.stop()}},t,e)}))()}}}},351:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,".pwd-box .vux-popup-header-right{position:absolute;right:15px}.weui-mask{z-index:3000}","",{version:3,sources:["/./src/page/order/confirm_order.vue"],names:[],mappings:"AACA,iCAAiC,kBAAkB,UAAU,CAC5D,AACD,WAAW,YAAY,CACtB",file:"confirm_order.vue",sourcesContent:["\n.pwd-box .vux-popup-header-right{position:absolute;right:15px\n}\n.weui-mask{z-index:3000\n}\n"],sourceRoot:"webpack://"}])},352:function(e,t,a){t=e.exports=a(2)(),t.push([e.id,"button[data-v-bdb5844e]{width:100%;padding:.2rem 0}#coupon .m-b[data-v-bdb5844e]{margin-bottom:.02rem}#coupon .bottom[data-v-bdb5844e]{position:absolute;bottom:0;width:100%;height:1rem;padding:0;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#coupon .bottom .btn[data-v-bdb5844e]{height:1rem;background:#f44;color:#fff;line-height:1rem;width:2rem;text-align:center;border-top:1px solid #ccc}#coupon .bottom .info[data-v-bdb5844e]{border-top:1px solid #ccc;height:1rem;line-height:1rem;width:calc(100% - 2rem);text-align:right;background:#fff;padding-right:.25rem}#coupon .p-a-all[data-v-bdb5844e]{bottom:1rem;top:1rem;background:#eee}#coupon .p-a-all .address[data-v-bdb5844e]{padding:.2rem .3rem;background:#fff;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:.02rem}#coupon .p-a-all .address i[data-v-bdb5844e]{display:block;width:.5rem}#coupon .p-a-all .address div[data-v-bdb5844e]{width:100%}#coupon .p-a-all .goods .flex-box[data-v-bdb5844e]{padding:.2rem .3rem}#coupon .p-a-all .goods .flex-box img[data-v-bdb5844e]{width:1.5rem;height:1.5rem;background:#eee}#coupon .p-a-all .goods .flex-box div[data-v-bdb5844e]{text-align:right}#coupon .p-a-all .input-price[data-v-bdb5844e]{width:1.2rem;text-align:center;border-bottom:1px dashed #000}#coupon .p-a-all .remark textarea[data-v-bdb5844e]{width:calc(100% - 2rem);background:#f4f4f4;padding:.1rem;resize:none}","",{version:3,sources:["/./src/page/order/confirm_order.vue"],names:[],mappings:"AACA,wBAAwB,WAAW,eAAgB,CAClD,AACD,8BAA8B,oBAAqB,CAClD,AACD,iCAAiC,kBAAkB,SAAW,WAAW,YAAY,UAAU,AAAyC,oBAAoB,aAAa,AAAoD,sBAAsB,kBAAkB,CACpQ,AACD,sCAAsC,YAAY,gBAAmB,WAAW,iBAAiB,WAAW,kBAAkB,yBAAyB,CACtJ,AACD,uCAAuC,0BAA0B,YAAY,iBAAiB,AAAgC,wBAAwB,iBAAiB,gBAAgB,oBAAqB,CAC3M,AACD,kCAAkC,YAAY,SAAS,eAAe,CACrE,AACD,2CAA2C,oBAAsB,gBAAgB,AAAyC,oBAAoB,aAAa,AAAoD,sBAAsB,mBAAmB,oBAAqB,CAC5Q,AACD,6CAA6C,cAAc,WAAY,CACtE,AACD,+CAA+C,UAAU,CACxD,AACD,mDAAmD,mBAAqB,CACvE,AACD,uDAAuD,aAAa,cAAc,eAAe,CAChG,AACD,uDAAuD,gBAAgB,CACtE,AACD,+CAA+C,aAAa,kBAAkB,6BAA6B,CAC1G,AACD,mDAAmF,wBAAwB,mBAAmB,cAAe,WAAW,CACvJ",file:"confirm_order.vue",sourcesContent:["\nbutton[data-v-bdb5844e]{width:100%;padding:0.2rem 0\n}\n#coupon .m-b[data-v-bdb5844e]{margin-bottom:0.02rem\n}\n#coupon .bottom[data-v-bdb5844e]{position:absolute;bottom:0px;width:100%;height:1rem;padding:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n#coupon .bottom .btn[data-v-bdb5844e]{height:1rem;background:#ff4444;color:#fff;line-height:1rem;width:2rem;text-align:center;border-top:1px solid #ccc\n}\n#coupon .bottom .info[data-v-bdb5844e]{border-top:1px solid #ccc;height:1rem;line-height:1rem;width:-webkit-calc(100% - 2rem);width:calc(100% - 2rem);text-align:right;background:#fff;padding-right:0.25rem\n}\n#coupon .p-a-all[data-v-bdb5844e]{bottom:1rem;top:1rem;background:#eee\n}\n#coupon .p-a-all .address[data-v-bdb5844e]{padding:0.2rem 0.3rem;background:#fff;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;margin-bottom:0.02rem\n}\n#coupon .p-a-all .address i[data-v-bdb5844e]{display:block;width:0.5rem\n}\n#coupon .p-a-all .address div[data-v-bdb5844e]{width:100%\n}\n#coupon .p-a-all .goods .flex-box[data-v-bdb5844e]{padding:0.2rem 0.3rem\n}\n#coupon .p-a-all .goods .flex-box img[data-v-bdb5844e]{width:1.5rem;height:1.5rem;background:#eee\n}\n#coupon .p-a-all .goods .flex-box div[data-v-bdb5844e]{text-align:right\n}\n#coupon .p-a-all .input-price[data-v-bdb5844e]{width:1.2rem;text-align:center;border-bottom:1px dashed #000\n}\n#coupon .p-a-all .remark textarea[data-v-bdb5844e]{width:-webkit-calc(100% - 2rem);width:calc(100% - 2rem);background:#f4f4f4;padding:0.1rem;resize:none\n}\n"],sourceRoot:"webpack://"}])},462:function(e,t,a){var n=a(351);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},463:function(e,t,a){var n=a(352);"string"==typeof n&&(n=[[e.id,n,""]]);a(3)(n,{});n.locals&&(e.exports=n.locals)},593:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"coupon"}},[a("head-top",{attrs:{"head-title":"确认订单","go-back":!0,rightMenu:!0}}),e._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"info"},[e._v("应付金额:\n      "),a("span",{staticClass:"price"},[e._v("￥"+e._s(e.total_balance))])]),e._v(" "),a("div",{staticClass:"btn",on:{click:e.check_order}},[e._v("提交订单")])]),e._v(" "),a("div",{staticClass:"p-a-all"},[e.info.address_default?a("div",{staticClass:"address",on:{click:function(t){e.goto("/address")}}},[a("i",{staticClass:"iconfont icon-dingwei"}),e._v(" "),a("div",[a("p",{staticClass:"flex-box"},[a("span",[e._v("收货人信息:"+e._s(e.info.address_default.consigner))]),e._v(" "),a("span",{staticClass:"font-size-13"},[e._v(e._s(e.info.address_default.mobile))])]),e._v(" "),a("p",{staticClass:"font-size-13 text-color-666",domProps:{innerHTML:e._s("收货地址:"+e.info.address_default.consigner+e.info.address_default.address)}})])]):a("div",{staticClass:"p-10 m-b bg-white flex-box",on:{click:function(t){e.goto("/address")}}},[a("span",[e._v("还没有添加收货地址")]),e._v(" "),a("i",{staticClass:"iconfont icon-right font-size-14 text-color-999"})]),e._v(" "),e.info.itemlist?a("div",{staticClass:"goods bg-white m-b"},e._l(e.info.itemlist,function(t,n){return a("div",{key:n,staticClass:"flex-box"},[a("img",{attrs:{src:t.picture_info?t.picture_info.pic_cover_small:"",alt:""}}),e._v(" "),a("div",{staticStyle:{width:"calc(100% - 2rem)"}},[a("p",{staticClass:"ellipsis"},[e._v(e._s(t.goods_name))]),e._v(" "),a("p",{staticClass:"font-size-13 text-color-999 ellipsis"},[e._v(e._s(t.sku_name))]),e._v(" "),a("p",[a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(t.price))]),e._v(" "),a("span",{staticClass:"font-size-13 text-color-999"},[e._v("x "+e._s(t.num))])])])])})):e._e(),e._v(" "),Object.keys(e.express_info).length>0?a("div",{staticClass:"flex-box bg-white p-10 m-b",on:{click:function(t){e.express_show=!0}}},[a("span",[e._v("快递公司")]),e._v(" "),a("span",{staticClass:"font-size-14 text-color-666"},[e._v(e._s(e.express_info.name)+"\n        "),a("i",{staticClass:"iconfont icon-right font-size-12 text-color-999"})])]):e._e(),e._v(" "),e.info.member_account?a("div",{staticClass:"flex-box bg-white p-10 m-b"},[a("p",[e._v("使用余额\n        "),a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(e.info.member_account.balance))])]),e._v(" "),a("div",[e._v("使用"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.balance_use,expression:"balance_use"}],staticClass:"input-price",attrs:{type:"text",placeholder:"0.00"},domProps:{value:e.balance_use},on:{input:[function(t){t.target.composing||(e.balance_use=t.target.value)},e.setBalance]}}),e._v("元")])]):e._e(),e._v(" "),e.info.member_account&&e.info.count_point_use?a("div",{staticClass:"flex-box bg-white p-10 m-b"},[a("p",[e._v("使用积分\n        "),a("span",{staticClass:"price font-size-13"},[e._v(e._s(e.info.member_account.point?e.info.member_account.point:0)+"个\n          "),e.info.count_point_use?a("span",{staticClass:"font-size-12 text-color-999"},[e._v("(最多使用"+e._s(e.info.count_point_use)+"个)")]):e._e()])]),e._v(" "),a("div",[e._v("使用"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.point_use,expression:"point_use"}],staticClass:"input-price",attrs:{type:"text",placeholder:"0"},domProps:{value:e.point_use},on:{input:function(t){t.target.composing||(e.point_use=t.target.value)}}}),e._v("个")])]):e._e(),e._v(" "),e.info.coupon_list?a("div",{staticClass:"flex-box bg-white p-10 m-b",on:{click:function(t){e.coupon_show=!0}}},[a("span",[e._v("优惠券")]),e._v(" "),e.check_coupon.money?a("span",{staticClass:"font-size-13 price"},[e._v("￥"+e._s(e.check_coupon.money))]):a("span",{staticClass:"font-size-13 text-color-999"},[e._v("不使用优惠券")])]):e._e(),e._v(" "),a("div",{staticClass:"flex-box bg-white p-10 m-b remark"},[a("p",[e._v("买家留言 ")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],attrs:{placeholder:"给卖家留言",rows:"2"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}})]),e._v(" "),a("p",{staticClass:"p-10"},[e._v("结算信息")]),e._v(" "),e.info.itemlist?a("div",{staticClass:"flex-box p-10 m-b bg-white"},[a("span",[e._v("共"+e._s(e.info.itemlist.length)+"件商品,总计")]),e._v(" "),a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(e.info.count_money))])]):e._e(),e._v(" "),a("div",{staticClass:"flex-box p-10 m-b bg-white"},[a("span",[e._v("运费")]),e._v(" "),a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(e.express_info.fee?e.express_info.fee:0))])]),e._v(" "),e.info.count_point_use?a("div",{staticClass:"flex-box p-10 m-b bg-white"},[a("span",[e._v("积分使用")]),e._v(" "),a("span",{staticClass:"price font-size-13"},[e._v(e._s(e.point_use))])]):e._e(),e._v(" "),a("div",{staticClass:"flex-box p-10 m-b bg-white"},[a("span",[e._v("余额使用")]),e._v(" "),a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(e.balance_use))])]),e._v(" "),e.check_coupon.money?a("div",{staticClass:"flex-box p-10 m-b bg-white"},[a("span",[e._v("优惠券使用")]),e._v(" "),a("span",{staticClass:"price font-size-13"},[e._v("￥"+e._s(e.check_coupon.money))])]):e._e()]),e._v(" "),a("actionsheet",{attrs:{menus:e.express},on:{"on-click-menu":e.check_express},model:{value:e.express_show,callback:function(t){e.express_show=t},expression:"express_show"}}),e._v(" "),a("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[a("popup",{staticClass:"pwd-box",model:{value:e.pwd_show,callback:function(t){e.pwd_show=t},expression:"pwd_show"}},[a("popup-header",{attrs:{"right-text":"取消",title:"请输入支付密码","show-bottom-border":!1},on:{"on-click-right":function(t){e.pwd_show=!1}}}),e._v(" "),a("pwd-box",{on:{"input-ok":e.createOrder}})],1),e._v(" "),e.info.coupon_list?a("popup",{model:{value:e.coupon_show,callback:function(t){e.coupon_show=t},expression:"coupon_show"}},[a("div",{staticStyle:{padding:"0.2rem 0.3rem"}},[a("button",{on:{click:function(t){e.check_coupon={},e.coupon_show=!1}}},[e._v("不使用红包")])]),e._v(" "),a("list",{attrs:{list:e.info.coupon_list},on:{coupon_check:e.coupon_check}})],1):e._e()],1)],1)},staticRenderFns:[]}},653:function(e,t,a){a(463),a(462);var n=a(1)(a(183),a(593),"data-v-bdb5844e",null);e.exports=n.exports}});