webpackJsonp([24,44],{189:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(6),a=r(s),n=i(5),d=r(n),o=i(4),c=i(7),l=r(c);t.default={components:{headTop:l.default},data:function(){return{provincelist:[],citylist:[],districtlist:[],consigner:"",mobile:"",address:"",province:"",city:"",district:"",zip_code:"",type:this.$route.query.id?"update":"add",id:this.$route.query.id?this.$route.query.id:""}},watch:{province:function(e){this.getCityList(e)},city:function(e){e&&this.getDistrictList(e)}},beforeMount:function(){this.getProvinceList(),this.id&&this.getInfo()},methods:{getInfo:function(){var e=this;return(0,d.default)(a.default.mark(function t(){var i,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$vux.loading.show({text:"获取中..."}),t.next=3,(0,o.getUserAddress)(2,e.id);case 3:i=t.sent,e.$vux.loading.hide(),1==i.code?(r=i.data.data[0],e.consigner=r.consigner,e.mobile=r.mobile,e.address=r.address,e.zip_code=r.zip_code,e.province=r.province,e.city=r.city,e.district=r.district):e.$vux.toast.text(i.msg,"middle");case 6:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return(0,d.default)(a.default.mark(function t(){var i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.consigner&&e.mobile&&e.address&&e.province&&e.city&&e.district&&e.zip_code){t.next=3;break}return e.$vux.toast.text("表单不完整","middle"),t.abrupt("return",!1);case 3:return e.$vux.loading.show({text:"处理中..."}),t.next=6,(0,o.addOrSetAddress)(e.consigner,e.mobile,e.province,e.city,e.district,e.address,e.zip_code,e.type,e.id);case 6:i=t.sent,e.$vux.loading.hide(),e.$vux.toast.text(i.msg,"middle"),1==i.code&&setTimeout(function(){e.$router.go(-1)},2e3);case 10:case"end":return t.stop()}},t,e)}))()},getProvinceList:function(){var e=this;return(0,d.default)(a.default.mark(function t(){var i,r,s,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getProvince)();case 2:if(i=t.sent,1==i.code){r=[];for(s in i.data)n={key:i.data[s].province_id,value:i.data[s].province_name},r.push(n);e.provincelist=r}else e.$vux.toast.text(i.msg,"middle");case 4:case"end":return t.stop()}},t,e)}))()},getCityList:function(e){var t=this;return(0,d.default)(a.default.mark(function i(){var r,s,n,d;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.getCity)(e);case 2:if(r=i.sent,1==r.code){s=[];for(n in r.data)d={key:r.data[n].city_id,value:r.data[n].city_name},s.push(d);t.citylist=s}else t.$vux.toast.text(r.msg,"middle");case 4:case"end":return i.stop()}},i,t)}))()},getDistrictList:function(e){var t=this;return(0,d.default)(a.default.mark(function i(){var r,s,n,d;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.getDistrict)(e);case 2:if(r=i.sent,1==r.code){s=[];for(n in r.data)d={key:r.data[n].district_id,value:r.data[n].district_name},s.push(d);t.districtlist=s}else t.$vux.toast.text(r.msg,"middle");case 4:case"end":return i.stop()}},i,t)}))()}}}},333:function(e,t,i){t=e.exports=i(2)(),t.push([e.id,"#address-add .weui-cell__hd{width:1.5rem!important}#address-add option{display:inline-block;font-size:.1rem}","",{version:3,sources:["/./src/page/user/address/add.vue"],names:[],mappings:"AACA,4BAA4B,sBAAuB,CAClD,AACD,oBAAoB,qBAAqB,eAAgB,CACxD",file:"add.vue",sourcesContent:["\n#address-add .weui-cell__hd{width:1.5rem !important\n}\n#address-add option{display:inline-block;font-size:0.1rem\n}\n"],sourceRoot:"webpack://"}])},334:function(e,t,i){t=e.exports=i(2)(),t.push([e.id,".v-center[data-v-7b1d4ff2]{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}#address-add .btn[data-v-7b1d4ff2]{width:calc(100% - .6rem);margin:.3rem;padding:.2rem;background:#eec242;text-align:center;color:#fff;border-radius:.1rem}","",{version:3,sources:["/./src/page/user/address/add.vue"],names:[],mappings:"AACA,2BAAoE,oBAAoB,aAAa,AAAoD,sBAAsB,kBAAkB,CAChM,AACD,mCAAqE,yBAA0B,aAAc,cAAe,mBAAmB,kBAAkB,WAAW,mBAAoB,CAC/L",file:"add.vue",sourcesContent:["\n.v-center[data-v-7b1d4ff2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center\n}\n#address-add .btn[data-v-7b1d4ff2]{width:-webkit-calc(100% - 0.6rem);width:calc(100% - 0.6rem);margin:0.3rem;padding:0.2rem;background:#eec242;text-align:center;color:#fff;border-radius:0.1rem\n}\n"],sourceRoot:"webpack://"}])},434:function(e,t,i){var r=i(333);"string"==typeof r&&(r=[[e.id,r,""]]);i(3)(r,{});r.locals&&(e.exports=r.locals)},435:function(e,t,i){var r=i(334);"string"==typeof r&&(r=[[e.id,r,""]]);i(3)(r,{});r.locals&&(e.exports=r.locals)},571:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"address-add"}},[i("head-top",{attrs:{"head-title":"添加收货地址","go-back":!0,rightMenu:!0}}),e._v(" "),i("div",{staticClass:"p-a-all"},[i("group",[i("x-input",{attrs:{"label-width":"1.5rem",title:"姓名:",required:"",placeholder:"请输入姓名"},model:{value:e.consigner,callback:function(t){e.consigner=t},expression:"consigner"}})],1),e._v(" "),i("group",[i("x-input",{attrs:{"label-width":"1.5rem",title:"手机号:",required:"",placeholder:"请输入手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),e._v(" "),e.provincelist.length>0?i("group",[i("selector",{attrs:{"label-width":"1.5rem",placeholder:"请选择省份",title:"省份:",options:e.provincelist},model:{value:e.province,callback:function(t){e.province=t},expression:"province"}})],1):e._e(),e._v(" "),e.citylist.length>0?i("group",[i("selector",{attrs:{"label-width":"1.5rem",placeholder:"请选择城市",title:"城市:",options:e.citylist},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1):e._e(),e._v(" "),e.districtlist.length>0?i("group",[i("selector",{attrs:{"label-width":"1.5rem",placeholder:"请选择区县",title:"区县:",options:e.districtlist},model:{value:e.district,callback:function(t){e.district=t},expression:"district"}})],1):e._e(),e._v(" "),i("group",[i("x-input",{attrs:{"label-width":"1.5rem",title:"详细地址:",required:"",placeholder:"请输入详细地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),e._v(" "),i("group",[i("x-input",{attrs:{"label-width":"1.5rem",title:"邮编:",required:"",placeholder:"请输入邮编"},model:{value:e.zip_code,callback:function(t){e.zip_code=t},expression:"zip_code"}})],1),e._v(" "),i("div",{staticClass:"btn",on:{click:e.save}},[e._v("保存")])],1)],1)},staticRenderFns:[]}},659:function(e,t,i){i(435),i(434);var r=i(1)(i(189),i(571),"data-v-7b1d4ff2",null);e.exports=r.exports}});