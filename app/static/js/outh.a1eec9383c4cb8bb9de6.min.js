webpackJsonp([29,44],{180:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(15),r=(n(i),o(6)),a=n(r),s=o(5),c=n(s),d=o(22),u=n(d),l=o(4),f=o(7),m=n(f),p=(o(12),o(21)),A=o(41),v=n(A);t.default={components:{headTop:m.default},data:function(){return{info:{},codeTime:0,mobile:"",verification:"",onepassword:"",twopassword:""}},beforeMount:function(){console.log("this is outh")},computed:(0,u.default)({},(0,p.mapState)({userInfo:function(e){return e.user.userInfo}})),methods:{onEnter:function(e){console.log("click enter!",e)},setTime:function(){var e=this;this.codeTime>0&&(this.setinv=setInterval(function(){e.codeTime--,0==e.codeTime&&clearInterval(e.setinv)},1e3))},sendCode:function(){var e=this;return(0,c.default)(a.default.mark(function t(){var o;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.mobile){t.next=3;break}return e.$vux.toast.text("手机号未填写","middle"),t.abrupt("return",!1);case 3:return e.$vux.loading.show({text:"正在发送..."}),t.next=6,(0,l.sendSmsBindMobile)(e.mobile);case 6:o=t.sent,e.$vux.loading.hide(),1==o.code?(e.codeTime=60,e.setTime()):e.$vux.toast.text(o.msg,"middle");case 9:case"end":return t.stop()}},t,e)}))()},save:function(){var e=this;return(0,c.default)(a.default.mark(function t(){var o,n,i;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.userInfo,console.log(e.$route),console.log(v.default.state),console.log(o),t.abrupt("return",!1);case 9:if(e.$vux.loading.show({text:"提交中..."}),n={},1!=o.type){t.next=17;break}return t.next=14,(0,l.wx_oauthBindLogin)(e.mobile,e.code,e.getStore("device_type"),o.openid,o.userInfo,o.unionid);case 14:n=t.sent,t.next=20;break;case 17:return t.next=19,(0,l.qq_oauthBindLogin)(e.mobile,e.code,e.getStore("device_type"),o.openid,o.userInfo);case 19:n=t.sent;case 20:e.$vux.loading.hide(),e.$vux.toast.text(n.msg,"middle"),1==n.code?(localStorage.clear(),localStorage.setItem("token",data.data.token),setTimeout(function(){e.$router.push("/user")},2e3)):20001==data.code&&(i={mobile:e.mobile,code:e.code,device_type:e.getStore("device_type"),openid:o.openid,userInfo:o.userInfo,unionid:o.unionid},setTimeout(function(){e.$router.push({path:"/outh_setpwd",params:{data:i}})},2e3));case 23:case"end":return t.stop()}},t,e)}))()}}}},335:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,"#outh .weui-cell__hd{width:1.5rem!important}#outh .weui-btn{font-size:.22rem}","",{version:3,sources:["/./src/page/login/outh.vue"],names:[],mappings:"AACA,qBAAqB,sBAAuB,CAC3C,AACD,gBAAgB,gBAAiB,CAChC",file:"outh.vue",sourcesContent:["\n#outh .weui-cell__hd{width:1.5rem !important\n}\n#outh .weui-btn{font-size:0.22rem\n}\n"],sourceRoot:"webpack://"}])},336:function(e,t,o){t=e.exports=o(2)(),t.push([e.id,"#outh .sendcode[data-v-7beb7cc5]{display:inline-block;position:absolute;right:.2rem;z-index:10;padding:.1rem .2rem;background:#f44;font-size:.24rem;color:#fff;border-radius:.1rem;top:.15rem}#outh .sended[data-v-7beb7cc5]{background:#ccc}#outh .btn[data-v-7beb7cc5]{width:80%;margin:.3rem auto;text-align:center;background:#f44;color:#fff;padding:.2rem 0;border-radius:.1rem}","",{version:3,sources:["/./src/page/login/outh.vue"],names:[],mappings:"AACA,iCAAiC,qBAAqB,kBAAkB,YAAa,WAAW,oBAAsB,gBAAmB,iBAAkB,WAAW,oBAAqB,UAAW,CACrM,AACD,+BAA+B,eAAe,CAC7C,AACD,4BAA4B,UAAU,kBAAmB,kBAAkB,gBAAmB,WAAW,gBAAiB,mBAAoB,CAC7I",file:"outh.vue",sourcesContent:["\n#outh .sendcode[data-v-7beb7cc5]{display:inline-block;position:absolute;right:0.2rem;z-index:10;padding:0.1rem 0.2rem;background:#ff4444;font-size:0.24rem;color:#fff;border-radius:0.1rem;top:0.15rem\n}\n#outh .sended[data-v-7beb7cc5]{background:#ccc\n}\n#outh .btn[data-v-7beb7cc5]{width:80%;margin:0.3rem auto;text-align:center;background:#ff4444;color:#fff;padding:0.2rem 0;border-radius:0.1rem\n}\n"],sourceRoot:"webpack://"}])},437:function(e,t,o){var n=o(335);"string"==typeof n&&(n=[[e.id,n,""]]);o(3)(n,{});n.locals&&(e.exports=n.locals)},438:function(e,t,o){var n=o(336);"string"==typeof n&&(n=[[e.id,n,""]]);o(3)(n,{});n.locals&&(e.exports=n.locals)},573:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"outh"}},[o("head-top",{attrs:{"go-back":!0,"head-title":"绑定账号"}}),e._v(" "),o("div",{staticClass:"p-a-all"},[o("group",[o("x-input",{attrs:{"label-width":"1.5rem","is-type":"china-mobile",title:"手机号:",required:"",placeholder:"请输入手机号"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1),e._v(" "),o("group",[0==e.codeTime?o("div",{staticClass:"sendcode",on:{click:e.sendCode}},[e._v("发送验证码")]):o("div",{staticClass:"sendcode sended"},[e._v(e._s(e.codeTime)+"s后重发")]),e._v(" "),o("x-input",{staticClass:"weui-vcode",attrs:{title:"验证码:",placeholder:"请输入验证码"},model:{value:e.verification,callback:function(t){e.verification=t},expression:"verification"}})],1),e._v(" "),o("div",{staticClass:"btn",on:{click:e.save}},[e._v("保存")])],1)],1)},staticRenderFns:[]}},650:function(e,t,o){o(438),o(437);var n=o(1)(o(180),o(573),"data-v-7beb7cc5",null);e.exports=n.exports}});