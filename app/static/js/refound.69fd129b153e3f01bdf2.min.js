webpackJsonp([10,44],{8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(!e)return"";"string"==typeof e&&(e=new Date(e.replace(/-/g,"/"))),"number"==typeof e&&(e=new Date(e));var r={"M+":e.getMonth()+1,"D+":e.getDate(),"h+":e.getHours()%12===0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},o={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};/(Y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+o[e.getDay()+""]));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t}},51:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),a=o(n);t.default={name:"timeline-item",data:function(){return{isLast:!0,isFirst:!0,headStyle:{backgroundColor:this.$parent.color}}},mounted:function(){this.$parent.setChildProps()},beforeDestroy:function(){var e=this.$parent;this.$nextTick(function(){e.setChildProps()})},components:{Icon:a.default},computed:{tailStyle:function(){return this.isLast?{display:"none",backgroundColor:this.$parent.color}:{display:"block",backgroundColor:this.$parent.color}}}}},79:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"vux-timeline-item"},[r("div",{class:["vux-timeline-item-color",{"vux-timeline-item-head":!e.isFirst,"vux-timeline-item-head-first":e.isFirst}],style:e.headStyle},[r("icon",{directives:[{name:"show",rawName:"v-show",value:e.isFirst&&e.$parent.isShowIcon,expression:"isFirst && $parent.isShowIcon"}],staticClass:"vux-timeline-item-checked",attrs:{type:"success_no_circle"}})],1),e._v(" "),r("div",{staticClass:"vux-timeline-item-tail",style:e.tailStyle}),e._v(" "),r("div",{staticClass:"vux-timeline-item-content"},[e._t("default")],2)])},staticRenderFns:[]}},81:function(e,t,r){var o=r(1)(r(51),r(79),null,null);e.exports=o.exports},205:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),a=o(n),i=r(5),s=o(i),d=r(7),l=o(d),u=r(4),f=r(8),c=o(f),_=r(81),p=o(_);t.default={components:{headTop:l.default,TimelineItem:p.default},filters:{date:function(e){return(0,c.default)(1e3*e,"YYYY-MM-DD HH:mm:ss")},refund_way:function e(t){var e="";switch(t){case 1:e="微信";break;case 2:e="支付宝";break;case 10:e="线下"}return e}},data:function(){return{express_code:"",express_num:"",info:{},mode:1,mode_list:[{key:1,value:"仅退款"}],reason:"买/卖双方协商一致",reason_list:[{key:"买/卖双方协商一致",value:"买/卖双方协商一致"},{key:"买错/多买/不想要",value:"买错/多买/不想要"},{key:"商品质量问题",value:"商品质量问题"},{key:"未收到货品",value:"未收到货品"},{key:"其他",value:"其他"}],money:""}},watch:{money:function(e){if(!e)return this.money="",!1;var t=/^\d+\.?\d{0,2}$/;t.test(e)||(this.money=parseFloat(e)),e=parseFloat(e),e<0&&(this.money=0),e>parseFloat(this.info.refund_money)&&(this.money=parseInt(this.info.refund_money))}},beforeMount:function(){this.getInfo()},methods:{express:function(){var e=this;return(0,s.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.express_code&&e.express_num){t.next=3;break}return e.$vux.toast.text("请填写物流信息","middle"),t.abrupt("return",!1);case 3:return e.$vux.loading.show({text:"正在获取中......"}),t.next=6,(0,u.orderGoodsRefundExpress)(e.info.order_refund.order_id,e.info.order_refund.order_goods_id,e.express_code,e.express_num);case 6:r=t.sent,e.$vux.loading.hide(),e.$vux.toast.text(r.msg,"middle"),1==r.code&&e.getInfo();case 10:case"end":return t.stop()}},t,e)}))()},add:function(){var e=this;return(0,s.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$vux.loading.show({text:"正在获取中......"}),t.next=3,(0,u.orderGoodsRefundAskfor)(e.info.order_refund.order_id,e.info.order_refund.order_goods_id,e.mode,e.reason,e.money);case 3:r=t.sent,e.$vux.loading.hide(),e.$vux.toast.text(r.msg,"middle"),1==r.code&&e.getInfo();case 7:case"end":return t.stop()}},t,e)}))()},getInfo:function(){var e=this;return(0,s.default)(a.default.mark(function t(){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$vux.loading.show({text:"正在获取中......"}),t.next=3,(0,u.refundDetail)(e.$route.query.id);case 3:r=t.sent,e.$vux.loading.hide(),1==r.code?(r.data.order_refund.refund_info.length>0&&r.data.order_refund.refund_info.reverse(),r.data.order_refund.shipping_status&&(e.mode_list.unshift({key:2,value:"退货退款"}),e.mode=2),e.info=r.data,e.money=r.data.refund_money):(e.$vux.toast.text(r.msg,"middle"),setTimeout(function(){e.$router.go(-1)}));case 6:case"end":return t.stop()}},t,e)}))()},onItemClick:function(e){this.check=e}},mounted:function(){}}},357:function(e,t,r){t=e.exports=r(2)(),t.push([e.id,"#order .vux-timeline{background:#fff;margin-top:.2rem}#order .vux-timeline p{font-size:.24rem}#order .weui-cell_select-after .weui-select,#order .weui-input{font-size:.26rem;color:#666}#order .weui-cell__hd{width:1.5rem!important}#order .weui-cell__hd .weui-label{font-size:.24rem}#order .weui-cells:after{height:0;border:0}#order option{display:inline-block;font-size:.1rem}#order .weui-wepay-flow__li_done .weui-wepay-flow__title-bottom span,#order .weui-wepay-flow__title-bottom span{font-size:.24rem!important}#order .weui-wepay-flow__process{background:#f44!important}#order .weui-wepay-flow__line,#order .weui-wepay-flow__process{height:5px!important}#order .weui-wepay-flow__title-bottom{top:.35rem}#order .weui-wepay-flow__li_done .weui-wepay-flow__state{background:#f44}#order .weui-wepay-flow{padding:.8rem 1rem!important}#order .weui-wepay-flow__li .weui-wepay-flow__state{width:.4rem;height:.4rem;font-size:.26rem;line-height:.4rem;top:-17px;border-radius:50%}#order .weui-wepay-flow__line_ing .weui-wepay-flow__info-top{display:none!important}","",{version:3,sources:["/./src/page/user/order/refound.vue"],names:[],mappings:"AACA,qBAAqB,gBAAgB,gBAAiB,CACrD,AACD,uBAAuB,gBAAiB,CACvC,AACD,+DAA+D,iBAAkB,UAAU,CAC1F,AACD,sBAAsB,sBAAuB,CAC5C,AACD,kCAAkC,gBAAiB,CAClD,AACD,yBAAyB,SAAS,QAAQ,CACzC,AACD,cAAc,qBAAqB,eAAgB,CAClD,AACD,gHAAgH,0BAA4B,CAC3I,AACD,iCAAiC,yBAA6B,CAC7D,AACD,+DAA+D,oBAAqB,CACnF,AACD,sCAAsC,UAAW,CAChD,AACD,yDAAyD,eAAkB,CAC1E,AACD,wBAAwB,4BAA8B,CACrD,AACD,oDAAoD,YAAa,aAAc,iBAAkB,kBAAmB,UAAU,iBAAiB,CAC9I,AACD,6DAA6D,sBAAuB,CACnF",file:"refound.vue",sourcesContent:["\n#order .vux-timeline{background:#fff;margin-top:0.2rem\n}\n#order .vux-timeline p{font-size:0.24rem\n}\n#order .weui-cell_select-after .weui-select,#order .weui-input{font-size:0.26rem;color:#666\n}\n#order .weui-cell__hd{width:1.5rem !important\n}\n#order .weui-cell__hd .weui-label{font-size:0.24rem\n}\n#order .weui-cells:after{height:0;border:0\n}\n#order option{display:inline-block;font-size:0.1rem\n}\n#order .weui-wepay-flow__li_done .weui-wepay-flow__title-bottom span,#order .weui-wepay-flow__title-bottom span{font-size:0.24rem !important\n}\n#order .weui-wepay-flow__process{background:#ff4444 !important\n}\n#order .weui-wepay-flow__line,#order .weui-wepay-flow__process{height:5px !important\n}\n#order .weui-wepay-flow__title-bottom{top:0.35rem\n}\n#order .weui-wepay-flow__li_done .weui-wepay-flow__state{background:#ff4444\n}\n#order .weui-wepay-flow{padding:0.8rem 1rem !important\n}\n#order .weui-wepay-flow__li .weui-wepay-flow__state{width:0.4rem;height:0.4rem;font-size:0.26rem;line-height:0.4rem;top:-17px;border-radius:50%\n}\n#order .weui-wepay-flow__line_ing .weui-wepay-flow__info-top{display:none !important\n}\n"],sourceRoot:"webpack://"}])},358:function(e,t,r){t=e.exports=r(2)(),t.push([e.id,"#order[data-v-fc1ac5a2]{background:#eee}#order .p-a-all .express[data-v-fc1ac5a2]{background:#fff;padding:.2rem}#order .p-a-all .express p[data-v-fc1ac5a2]{display:-ms-flexbox;display:flex;width:100%;font-size:.28rem;word-break:break-all}#order .p-a-all .refound-info[data-v-fc1ac5a2]{background:#fff;padding:.2rem .3rem}#order .p-a-all .refound-info p[data-v-fc1ac5a2]{display:-ms-flexbox;display:flex;width:100%;font-size:.28rem;word-break:break-all}#order .p-a-all .box[data-v-fc1ac5a2]{background:#fff}#order .p-a-all .btn[data-v-fc1ac5a2]{width:calc(100% - .6rem);margin:.3rem;padding:.2rem;background:#eec242;text-align:center;color:#fff;border-radius:.1rem}","",{version:3,sources:["/./src/page/user/order/refound.vue"],names:[],mappings:"AACA,wBAAwB,eAAe,CACtC,AACD,0CAA0C,gBAAgB,aAAc,CACvE,AACD,4CAAqF,oBAAoB,aAAa,WAAW,iBAAkB,oBAAoB,CACtK,AACD,+CAA+C,gBAAgB,mBAAqB,CACnF,AACD,iDAA0F,oBAAoB,aAAa,WAAW,iBAAkB,oBAAoB,CAC3K,AACD,sCAAsC,eAAe,CACpD,AACD,sCAAwE,yBAA0B,aAAc,cAAe,mBAAmB,kBAAkB,WAAW,mBAAoB,CAClM",file:"refound.vue",sourcesContent:["\n#order[data-v-fc1ac5a2]{background:#eee\n}\n#order .p-a-all .express[data-v-fc1ac5a2]{background:#fff;padding:0.2rem\n}\n#order .p-a-all .express p[data-v-fc1ac5a2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;font-size:0.28rem;word-break:break-all\n}\n#order .p-a-all .refound-info[data-v-fc1ac5a2]{background:#fff;padding:0.2rem 0.3rem\n}\n#order .p-a-all .refound-info p[data-v-fc1ac5a2]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;font-size:0.28rem;word-break:break-all\n}\n#order .p-a-all .box[data-v-fc1ac5a2]{background:#fff\n}\n#order .p-a-all .btn[data-v-fc1ac5a2]{width:-webkit-calc(100% - 0.6rem);width:calc(100% - 0.6rem);margin:0.3rem;padding:0.2rem;background:#eec242;text-align:center;color:#fff;border-radius:0.1rem\n}\n"],sourceRoot:"webpack://"}])},470:function(e,t,r){var o=r(357);"string"==typeof o&&(o=[[e.id,o,""]]);r(3)(o,{});o.locals&&(e.exports=o.locals)},471:function(e,t,r){var o=r(358);"string"==typeof o&&(o=[[e.id,o,""]]);r(3)(o,{});o.locals&&(e.exports=o.locals)},599:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"order"}},[r("head-top",{attrs:{"head-title":"退款/退货","go-back":!0,rightMenu:!0}}),e._v(" "),r("div",{staticClass:"p-a-all"},[e.info.order_refund?r("flow",{staticStyle:{width:"100%"}},[r("flow-state",{attrs:{state:"1","is-done":""}},[r("span",{attrs:{slot:"title"},slot:"title"},[e._v("买家申请退款")])]),e._v(" "),r("flow-line",{attrs:{"is-done":0!=e.info.order_refund.refund_status}}),e._v(" "),r("flow-state",{attrs:{state:"2","is-done":1==e.info.order_refund.refund_status||3==e.info.order_refund.refund_status||4==e.info.order_refund.refund_status||5==e.info.order_refund.refund_status}},[r("span",{attrs:{slot:"title"},slot:"title"},[e._v("商家处理退款申请")])]),e._v(" "),r("flow-line",{attrs:{"is-done":5==e.info.order_refund.refund_status}}),e._v(" "),r("flow-state",{attrs:{state:"3","is-done":5==e.info.order_refund.refund_status}},[r("span",{attrs:{slot:"title"},slot:"title"},[e._v("退款完成")])])],1):e._e(),e._v(" "),!e.info.order_refund||0!=e.info.order_refund.refund_status&&e.info.order_refund.refund_status!=-3?e._e():r("div",{staticClass:"add-info"},[r("div",{staticClass:"box"},[r("group",[r("selector",{attrs:{"label-width":"1.5rem",placeholder:"处理方式:",title:"处理方式:",options:e.mode_list},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),e._v(" "),r("group",[r("selector",{attrs:{"label-width":"1.5rem",placeholder:"退款原因:",title:"退款原因:",options:e.reason_list},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1),e._v(" "),e.info.refund_money>0?r("div",{staticClass:"weui-cells vux-no-group-title"},[r("div",{staticClass:"vux-x-input weui-cell weui-cell_warn",attrs:{"data-v-556bc01a":""}},[e._m(0),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.money,expression:"money"}],attrs:{type:"text",placeholder:"最多可退款"+e.info.refund_money},domProps:{value:e.money},on:{input:function(t){t.target.composing||(e.money=t.target.value)}}})])]):e._e()],1),e._v(" "),r("div",{staticClass:"btn",on:{click:e.add}},[e._v("提交退款申请")])]),e._v(" "),!e.info.order_refund||1!=e.info.order_refund.refund_status&&3!=e.info.order_refund.refund_status&&4!=e.info.order_refund.refund_status?e._e():r("div",{staticClass:"refound-info"},[r("p",{staticClass:"price"},[e._v("退款金额:"+e._s(e.info.order_refund.refund_require_money)+" ")]),e._v(" "),r("p",{staticClass:"font-bold"},[e._v("您已成功申请退款，等待卖家处理退款申请。")]),e._v(" "),r("p",{staticClass:"text-color-666"},[e._v("退款类型:"+e._s(1==e.info.order_refund.refund_type?"仅退款":"退款退货"))]),e._v(" "),r("p",{staticClass:" text-color-666"},[e._v("发起退款时间:"+e._s(e._f("date")(e.info.order_refund.refund_time)))]),e._v(" "),r("p",{staticClass:" text-color-666"},[e._v("退款原因:"+e._s(e.info.order_refund.refund_reason))]),e._v(" "),r("p",{staticClass:"text-color-666"},[e._v("如果商家同意，退款申请将达成并退款至您的现金账户中或线下退款到账户中")])]),e._v(" "),e.info.order_refund&&5==e.info.order_refund.refund_status?r("div",{staticClass:"refound-info"},[r("p",{staticClass:"font-bold"},[e._v(e._s(e.info.order_refund.status_name))]),e._v(" "),r("p",{staticClass:" text-color-666"},[e._v("退款成功时间："+e._s(e._f("date")(e.info.order_refund.refund_record.refund_time)))]),e._v(" "),r("p",{staticClass:" text-color-666"},[e._v("退款方式："+e._s(e._f("refund_way")(e.info.order_refund.refund_record.refund_way)))]),e._v(" "),r("p",{staticClass:" price"},[e._v("退款金额："+e._s(e.info.order_refund.refund_record.refund_money)+"元")]),e._v(" "),r("p",{staticClass:" text-color-666"},[e._v("卖家留言："+e._s(e.info.order_refund.refund_record.remark))])]):e._e(),e._v(" "),e.info.shop_info&&2==e.info.order_refund.refund_status?r("div",{staticClass:"express "},[r("p",[e._v("请退货并填写物流信息")]),e._v(" "),r("p",{staticClass:"font-bold"},[e._v("1、请退货")]),e._v(" "),r("p",{staticClass:"text-color-666"},[e._v("未经卖家同意，请不要使用到付或平邮。")]),e._v(" "),r("p",{staticClass:"price"},[e._v("退货地址："+e._s(e.info.shop_info.shop_address)+" "+e._s(e.info.shop_info.seller_zipcode)+" "+e._s(e.info.shop_info.seller_mobile)+" "+e._s(e.info.shop_info.seller_name))]),e._v(" "),e._m(1),e._v(" "),r("group",{staticStyle:{width:"100%"}},[r("x-input",{attrs:{"label-width":"1.5rem",title:"物流公司:",required:"",placeholder:"物流公司"},model:{value:e.express_code,callback:function(t){e.express_code=t},expression:"express_code"}})],1),e._v(" "),r("group",{staticStyle:{width:"100%"}},[r("x-input",{attrs:{"label-width":"1.5rem",title:"运单号码:",required:"",placeholder:"运单号码"},model:{value:e.express_num,callback:function(t){e.express_num=t},expression:"express_num"}})],1),e._v(" "),r("button",{staticClass:"btn ",on:{click:e.express}},[e._v("提交")])],1):e._e(),e._v(" "),e.info.order_refund&&e.info.order_refund.refund_info.length>0?r("timeline",{staticStyle:{width:"100%"}},e._l(e.info.order_refund.refund_info,function(t,o){return r("timeline-item",{key:o},[r("h4",{class:[0===o?"recent":""]},[e._v(e._s(t.action))]),e._v(" "),r("p",{class:[0===o?"recent":""]},[e._v(e._s(e._f("date")(t.action_time)))])])})):e._e()],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"weui-cell__hd"},[r("label",{staticClass:"weui-label",staticStyle:{width:"1.5rem"},attrs:{for:"vux-x-input-7twv9"}},[e._v("退款金额:")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"font-bold"},[e._v("2、请填写退货物流信息\n                "),r("span",{staticClass:"font-size-12 text-color-999"},[e._v("(逾期未填写，退货申请将关闭)")])])}]}},675:function(e,t,r){r(471),r(470);var o=r(1)(r(205),r(599),"data-v-fc1ac5a2",null);e.exports=o.exports}});